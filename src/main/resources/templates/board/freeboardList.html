<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" class="h-100" data-bs-theme="auto">
	<head>
	 <!-- ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (block.html) -->
    <th:block th:if="${session.userRole != 'ADMIN'}">
        <th:block th:insert="~{template/client/fragments/block :: config}"></th:block>
    </th:block>
    <!-- ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹œ adminblock.html ì‚¬ìš© -->
    <th:block th:if="${session.userRole == 'ADMIN'}">
        <th:block th:insert="~{template/client/fragments/adminblock :: config}"></th:block>
    </th:block>
   		<link rel="stylesheet" href="/css/board.css">
		<title>ë©”ì¸í™”ë©´</title>
		
	</head> 
	<body>
		<main> 
	  		<div class="container py-4">
	  		<!-- ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (block.html) - ê´€ë¦¬ì ì•„ë‹Œ ê²½ìš°ë§Œ í‘œì‹œ -->
            <th:block th:if="${session.userRole != 'ADMIN'}">
                <div th:replace="template/client/fragments/block :: header"></div>
            </th:block>

            <!-- ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ (adminblock.html) - ê´€ë¦¬ìì¼ ë•Œë§Œ í‘œì‹œ -->
            <th:block th:if="${session.userRole == 'ADMIN'}">
                <div th:replace="template/client/fragments/adminblock :: header"></div>
            </th:block>
    <h2>ììœ ê²Œì‹œíŒ</h2>

    <!-- âœ… ì¹´í…Œê³ ë¦¬ ì„ íƒ (ì „ì²´ ë³´ê¸° ì¶”ê°€) -->
    <select id="categorySelect" onchange="changeCategory()"  style="width:200px;">
        <option value="ì „ì²´" th:selected="${category == 'ì „ì²´'}">ì „ì²´</option>
        <option value="ììœ " th:selected="${category == 'ììœ '}">ììœ </option>
        <option value="ë¶ˆë§Œ" th:selected="${category == 'ë¶ˆë§Œ'}">ë¶ˆë§Œ</option>
        <option value="ì¶”ì²œ" th:selected="${category == 'ì¶”ì²œ'}">ì¶”ì²œ</option>
    </select>

    <table border="1">
    <thead>
        <tr>
            <th>ë‹‰ë„¤ì„</th>
            <th>ì œëª©</th>
            <th>ì‘ì„±ì¼</th>
            <th>ì¶”ì²œìˆ˜</th> <!-- ì¡°íšŒìˆ˜ â†’ ì¶”ì²œìˆ˜ë¡œ ë³€ê²½ -->
        </tr>
    </thead>
    <tbody>
        <tr th:each="board : ${boardList}">
            <td th:text="${board.customerId}"></td>
            <td>
                <a th:href="@{/board/freeboarddetail/{id}(id=${board.boardNumber})}" th:text="${board.boardTitle}"></a>
                <span>ğŸ‘ <span th:text="${board.likeChar}"></span></span> <!-- ì¢‹ì•„ìš” ìˆ˜ í‘œì‹œ -->
            </td>
            <td th:text="${#temporals.format(board.createBoard, 'yyyy-MM-dd HH:mm')}"></td>
            <td th:text="${board.likeChar}"></td>
        </tr>
    </tbody>
</table>
    
    <!-- âœ… ê²Œì‹œê¸€ ì‘ì„± ë²„íŠ¼ (ìŠ¤íƒ€ì¼ ì ìš©) -->
    <div class="button-container">
        <a href="/board/freeboardform" class="write-button">ê²Œì‹œê¸€ ì‘ì„±</a>
    </div>
        <footer th:replace="template/client/fragments/adminblock :: footer"></footer>
    </div>
    </main>
    <script>
        function changeCategory() {
            const selectedCategory = document.getElementById("categorySelect").value;
            window.location.href = "/board/freeboardList?category=" + selectedCategory;
        }
    </script>
</body>
</html>
